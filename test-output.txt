
> nextjs-clerk-starter@0.1.0 test
> jest __tests__/components/velocity/credit-card.test.tsx

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
  console.log
    [dotenv@17.2.3] injecting env (0) from .env.test.local -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.error
    Received `false` for a non-boolean attribute `initial`.
    
    If you want to write it to the DOM, pass a string instead: initial="false" or initial={value.toString()}.
    
    If you used to conditionally omit it with initial={condition && value}, pass initial={condition ? value : undefined} instead.

      102 |       });
      103 |
    > 104 |       render(<CreditCard acc={account} layout="grid" />);
          |             ^
      105 |
      106 |       expect(screen.getByText("Mark Paid")).toBeInTheDocument();
      107 |       expect(screen.queryByText("Mark as Unpaid")).not.toBeInTheDocument();

      at validateProperty (node_modules/react-dom/cjs/react-dom-client.development.js:3078:27)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom-client.development.js:3146:9)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom-client.development.js:19868:9)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom-client.development.js:20491:7)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12662:18)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/velocity/credit-card.test.tsx:104:13)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 500

      at log (components/velocity/credit-card.tsx:275:17)

  console.log
    üì° Mark paid API response: { ok: true, status: undefined }

      at log (components/velocity/credit-card.tsx:286:17)

  console.log
    ‚úÖ Marked successfully

      at log (components/velocity/credit-card.tsx:293:19)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 1000

      at log (components/velocity/credit-card.tsx:275:17)

  console.log
    üì° Mark paid API response: { ok: false, status: undefined }

      at log (components/velocity/credit-card.tsx:286:17)

  console.error
    ‚ùå Toggle payment status error: Error: Request failed
        at handleTogglePaidStatus (/Users/jeff/Projects/Cards/components/velocity/credit-card.tsx:297:17)

      299 |       }
      300 |     } catch (error) {
    > 301 |       console.error("‚ùå Toggle payment status error:", error);
          |               ^
      302 |       toast.error("Failed to update status");
      303 |       // Reset optimistic status on error
      304 |       setOptimisticStatus(null);

      at error (components/velocity/credit-card.tsx:301:15)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 0

      at log (components/velocity/credit-card.tsx:275:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    üì° Mark paid API response: { ok: true, status: undefined }

      at log (components/velocity/credit-card.tsx:286:17)

  console.log
    ‚úÖ Marked successfully

      at log (components/velocity/credit-card.tsx:293:19)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    Fetch calls: [
      [
        '/api/account/acc-123/mark-paid',
        {
          method: 'POST',
          headers: [Object],
          body: '{"date":"2025-12-02T22:32:15.465Z","amount":0}'
        }
      ]
    ]

      at log (__tests__/components/velocity/credit-card.test.tsx:226:17)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: true, status: 'PAYMENT_SCHEDULED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: STATEMENT_GENERATED

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: STATEMENT_GENERATED

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üîÑ Unmarking as paid...

      at log (components/velocity/credit-card.tsx:247:17)

  console.log
    üì° Unmark API response: { ok: true, status: undefined }

      at log (components/velocity/credit-card.tsx:255:17)

  console.log
    ‚úÖ Unmarked successfully

      at log (components/velocity/credit-card.tsx:262:19)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: true, status: 'PAYMENT_SCHEDULED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: STATEMENT_GENERATED

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: STATEMENT_GENERATED

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üîÑ Unmarking as paid...

      at log (components/velocity/credit-card.tsx:247:17)

  console.log
    üì° Unmark API response: { ok: false, status: undefined }

      at log (components/velocity/credit-card.tsx:255:17)

  console.error
    ‚ùå Toggle payment status error: Error: Failed to cancel payment
        at handleTogglePaidStatus (/Users/jeff/Projects/Cards/components/velocity/credit-card.tsx:266:17)

      299 |       }
      300 |     } catch (error) {
    > 301 |       console.error("‚ùå Toggle payment status error:", error);
          |               ^
      302 |       toast.error("Failed to update status");
      303 |       // Reset optimistic status on error
      304 |       setOptimisticStatus(null);

      at error (components/velocity/credit-card.tsx:301:15)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 1000

      at log (components/velocity/credit-card.tsx:275:17)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 1000

      at log (components/velocity/credit-card.tsx:275:17)

  console.log
    üì° Mark paid API response: { ok: false, status: undefined }

      at log (components/velocity/credit-card.tsx:286:17)

  console.error
    ‚ùå Toggle payment status error: Error: Request failed
        at handleTogglePaidStatus (/Users/jeff/Projects/Cards/components/velocity/credit-card.tsx:297:17)

      299 |       }
      300 |     } catch (error) {
    > 301 |       console.error("‚ùå Toggle payment status error:", error);
          |               ^
      302 |       toast.error("Failed to update status");
      303 |       // Reset optimistic status on error
      304 |       setOptimisticStatus(null);

      at error (components/velocity/credit-card.tsx:301:15)

  console.log
    üèÅ Set isToggling to false

      at log (components/velocity/credit-card.tsx:308:15)

  console.log
    üîµ handleTogglePaidStatus called! { isPaid: false, status: 'STATEMENT_GENERATED', isToggling: false }

      at log (components/velocity/credit-card.tsx:218:13)

  console.log
    üéØ New status will be: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:235:13)

  console.log
    ‚è≥ Set isToggling to true

      at log (components/velocity/credit-card.tsx:239:13)

  console.log
    ‚ú® Set optimistic status: PAID_AWAITING_STATEMENT

      at log (components/velocity/credit-card.tsx:243:13)

  console.log
    üí∞ Marking as paid...

      at log (components/velocity/credit-card.tsx:269:17)

  console.log
    üíµ Payment amount: 1000

      at log (components/velocity/credit-card.tsx:275:17)

FAIL __tests__/components/velocity/credit-card.test.tsx
  CreditCard Payment Cycle Status
    Payment Status Display
      ‚úì should show "Mark Paid" button when status is STATEMENT_GENERATED (58 ms)
      ‚úì should show "Mark as Unpaid" button when status is PAYMENT_SCHEDULED (6 ms)
      ‚úì should show "Mark as Unpaid" button when status is PAID_AWAITING_STATEMENT (6 ms)
      ‚úï should show status badge for other statuses (8 ms)
    Mark as Paid Functionality
      ‚úï should call mark-paid API when "Mark Paid" is clicked (1033 ms)
      ‚úì should handle API errors gracefully (23 ms)
      ‚úï should validate amount before sending (1017 ms)
    Mark as Unpaid Functionality
      ‚úì should call unmark-paid API when "Mark as Unpaid" is clicked (16 ms)
      ‚úì should handle unmark API errors gracefully (17 ms)
    Optimistic UI Updates
      ‚úì should show optimistic status immediately on click (13 ms)
      ‚úì should revert optimistic status on API failure (28 ms)
    Card Flip Prevention
      ‚úì should prevent card flip when payment button is clicked (10 ms)
    List View Support
      ‚úì should render payment controls in list view (9 ms)

  ‚óè CreditCard Payment Cycle Status ‚Ä∫ Payment Status Display ‚Ä∫ should show status badge for other statuses

    TestingLibraryElementError: Found multiple elements with the text: Dormant

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-slate-300"[39m
    [36m>[39m
      [0mDormant[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-slate-300"[39m
    [36m>[39m
      [0mDormant[0m
    [36m</span>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Test Card ending in 4291. Double tap to flip for details."[39m
          [33mclass[39m=[32m"w-[360px] h-[225px] perspective-1000 group mx-auto"[39m
          [33mrole[39m=[32m"button"[39m
          [33mtabindex[39m=[32m"0"[39m
        [36m>[39m
          [36m<div[39m
            [33manimate[39m=[32m"[object Object]"[39m
            [33mclass[39m=[32m"w-full h-full relative transform-style-3d cursor-pointer"[39m
            [33mstyle[39m=[32m"transform-style: preserve-3d;"[39m
            [33mtransition[39m=[32m"[object Object]"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden shadow-2xl pointer-events-auto"[39m
              [33mstyle[39m=[32m"z-index: 1;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 bg-[#1a1a1a]"[39m
                [33mstyle[39m=[32m"background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 opacity-[0.15] mix-blend-overlay bg-no-repeat bg-cover pointer-events-none"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-black/40 opacity-50 pointer-events-none"[39m
              [36m/>[39m
              [36m<div[39m
                [33mclass[39m=[32m"relative z-10 p-5 flex flex-col h-full"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex justify-between items-start w-full mb-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-3"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33maria-hidden[39m=[32m"true"[39m
                        [33mclass[39m=[32m"lucide lucide-landmark w-6 h-6 opacity-90 text-white"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M10 18v-7"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M14 18v-7"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M18 18v-7"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M3 22h18"[39m
                        [36m/>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M6 18v-7"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-sm font-bold tracking-widest uppercase text-white/90 drop-shadow-md font-sans"[39m
                      [36m>[39m
                        [0mTest Bank[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"px-2 py-0.5 rounded-full border backdrop-blur-md flex items-center gap-1.5 shadow-sm bg-slate-800 bg-opacity-40 border-white/10"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs"[39m
                    [36m>[39m
                      [0müåô[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-slate-300"[39m
                    [36m>[39m
                      [0mDormant[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-4 mt-4"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"w-9 h-7 rounded-md bg-gradient-to-br from-[#e2e2e2] via-[#9ca3af] to-[#4b5563] relative overflow-hidden shadow-sm border border-[#6b7280]"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"absolute inset-0 opacity-50 mix-blend-multiply"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute top-1/2 left-0 w-full h-[1px] bg-[#374151]"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute top-0 left-1/2 h-full w-[1px] bg-[#374151]"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute top-1/2 left-1/2 w-3 h-2 border border-[#374151] -translate-x-1/2 -translate-y-1/2 rounded-[1px]"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute bottom-0 left-0 w-2.5 h-2.5 border-t border-r border-[#374151] rounded-tr-md"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute bottom-0 right-0 w-2.5 h-2.5 border-t border-l border-[#374151] rounded-tl-md"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute top-0 left-0 w-2.5 h-2.5 border-b border-r border-[#374151] rounded-br-md"[39m
                      [36m/>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute top-0 right-0 w-2.5 h-2.5 border-b border-l border-[#374151] rounded-bl-md"[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-tr from-transparent via-white/30 to-transparent opacity-40 pointer-events-none"[39m
                    [36m/>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-wifi w-5 h-5 text-white/60 rotate-90"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2.5"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 20h.01"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M2 8.82a15 15 0 0 1 20 0"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12.859a10 10 0 0 1 14 0"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M8.5 16.429a5 5 0 0 1 7 0"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-auto space-y-3"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"space-y-0.5"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[10px] font-bold text-white/40 uppercase tracking-widest"[39m
                    [36m>[39m
                      [0mCurrent Balance[0m
                    [36m</p>[39m
                    [36m<h3[39m
                      [33mclass[39m=[32m"text-3xl font-mono font-bold tracking-tighter text-white drop-shadow-lg"[39m
                    [36m>[39m
                      [0m$[0m
                      [0m1,000.00[0m
                    [36m</h3>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-end"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-0.5"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-2 font-mono text-white/80 text-sm tracking-widest"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-[10px] align-middle"[39m
                        [36m>[39m
                          [0m‚Ä¢‚Ä¢‚Ä¢‚Ä¢[0m
                        [36m</span>[39m
                        [36m<span>[39m
                          [0m4291[0m
                        [36m</span>[39m
                      [36m</div>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[10px] font-medium text-white/50 uppercase tracking-wider"[39m
                      [36m>[39m
                        [0mTest Card[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex flex-col items-end gap-1"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"font-mono text-[9px] text-white/60"[39m
                      [36m>[39m
                        [0mEXP 09/28[0m
                      [36m</span>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"opacity-80 grayscale-[0.3]"[39m
                      [36m/>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden bg-slate-900 border border-white/10 shadow-2xl pointer-events-auto"[39m
              [33mstyle[39m=[32m"transform: rotateY(180deg); z-index: 0;"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-full h-12 bg-black mt-4 mb-3 relative flex items-center justify-between px-5"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-20 pointer-events-none"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative z-10"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-1.5 px-2 py-1 rounded-full border bg-slate-800 bg-opacity-20 border-white/10"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-xs"[39m
                    [36m>[39m
                      [0müåô[0m
                    [36m</span>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-slate-300"[39m
                    [36m>[39m
                      [0mDormant[0m
                    [36m</span>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative z-10 text-right"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-[8px] text-slate-400 font-bold uppercase tracking-widest mb-0.5"[39m
                  [36m>[39m
                    [0mDue Date[0m
                  [36m</p>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"text-xs font-mono font-bold text-white"[39m
                  [36m>[39m
                    [0mN/A[0m
                  [36m</p>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"px-5 pb-5"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"grid grid-cols-2 gap-2.5"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                    [36m>[39m
                      [0mStatement Bal[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                    [36m>[39m
                      [0mN/A[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                    [36m>[39m
                      [0mMin Payment[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                    [36m>[39m
                      [0mN/A[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                    [36m>[39m
                      [0mLast Payment[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                    [36m>[39m
                      [0m0[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                    [36m>[39m
                      [0mPayment Date[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-sm font-mono font-bold text-brand-accent"[39m
                    [36m>[39m
                      [0mN/A[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      139 |       expect(screen.queryByText("Mark Paid")).not.toBeInTheDocument();
      140 |       expect(screen.queryByText("Mark as Unpaid")).not.toBeInTheDocument();
    > 141 |       expect(screen.getByText("Dormant")).toBeInTheDocument();
          |                     ^
      142 |     });
      143 |   });
      144 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/velocity/credit-card.test.tsx:141:21)

  ‚óè CreditCard Payment Cycle Status ‚Ä∫ Mark as Paid Functionality ‚Ä∫ should call mark-paid API when "Mark Paid" is clicked

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      "/api/account/acc-123/mark-paid",
      Object {
    -   "body": "{\"date\":{\"inverse\":false},\"amount\":500}",
    +   "body": "{\"date\":\"2025-12-02T22:32:14.423Z\",\"amount\":500}",
        "headers": Object {
          "Content-Type": "application/json",
        },
        "method": "POST",
      },

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Test Card ending in 4291. Double tap to flip for details."[39m
            [33mclass[39m=[32m"w-[360px] h-[225px] perspective-1000 group mx-auto"[39m
            [33mrole[39m=[32m"button"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<div[39m
              [33manimate[39m=[32m"[object Object]"[39m
              [33mclass[39m=[32m"w-full h-full relative transform-style-3d cursor-pointer"[39m
              [33mstyle[39m=[32m"transform-style: preserve-3d;"[39m
              [33mtransition[39m=[32m"[object Object]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden shadow-2xl pointer-events-none"[39m
                [33mstyle[39m=[32m"z-index: 0;"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 bg-[#1a1a1a]"[39m
                  [33mstyle[39m=[32m"background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 opacity-[0.15] mix-blend-overlay bg-no-repeat bg-cover pointer-events-none"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-black/40 opacity-50 pointer-events-none"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative z-10 p-5 flex flex-col h-full"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-start w-full mb-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-3"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-landmark w-6 h-6 opacity-90 text-white"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M10 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M14 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M18 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M3 22h18"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18v-7"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-sm font-bold tracking-widest uppercase text-white/90 drop-shadow-md font-sans"[39m
                        [36m>[39m
                          [0mTest Bank[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-2 py-0.5 rounded-full border backdrop-blur-md flex items-center gap-1.5 shadow-sm bg-emerald-950 bg-opacity-40 border-white/10"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-xs"[39m
                      [36m>[39m
                        [0müü¢[0m
                      [36m</span>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-emerald-200"[39m
                      [36m>[39m
                        [0mPaid, Awaiting Statement[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-4 mt-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-9 h-7 rounded-md bg-gradient-to-br from-[#e2e2e2] via-[#9ca3af] to-[#4b5563] relative overflow-hidden shadow-sm border border-[#6b7280]"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute inset-0 opacity-50 mix-blend-multiply"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-1/2 left-0 w-full h-[1px] bg-[#374151]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 left-1/2 h-full w-[1px] bg-[#374151]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-1/2 left-1/2 w-3 h-2 border border-[#374151] -translate-x-1/2 -translate-y-1/2 rounded-[1px]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute bottom-0 left-0 w-2.5 h-2.5 border-t border-r border-[#374151] rounded-tr-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute bottom-0 right-0 w-2.5 h-2.5 border-t border-l border-[#374151] rounded-tl-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 left-0 w-2.5 h-2.5 border-b border-r border-[#374151] rounded-br-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 right-0 w-2.5 h-2.5 border-b border-l border-[#374151] rounded-bl-md"[39m
                        [36m/>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-tr from-transparent via-white/30 to-transparent opacity-40 pointer-events-none"[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-wifi w-5 h-5 text-white/60 rotate-90"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2.5"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 20h.01"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 8.82a15 15 0 0 1 20 0"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12.859a10 10 0 0 1 14 0"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8.5 16.429a5 5 0 0 1 7 0"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-auto space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-0.5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[10px] font-bold text-white/40 uppercase tracking-widest"[39m
                      [36m>[39m
                        [0mCurrent Balance[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-mono font-bold tracking-tighter text-white drop-shadow-lg"[39m
                      [36m>[39m
                        [0m$[0m
                        [0m1,000.00[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex justify-between items-end"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"space-y-0.5"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-2 font-mono text-white/80 text-sm tracking-widest"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-[10px] align-middle"[39m
                          [36m>[39m
                            [0m‚Ä¢‚Ä¢‚Ä¢‚Ä¢[0m
                          [36m</span>[39m
                          [36m<span>[39m
                            [0m4291[0m
                          [36m</span>[39m
                        [36m</div>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-[10px] font-medium text-white/50 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mTest Card[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex flex-col items-end gap-1"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-mono text-[9px] text-white/60"[39m
                        [36m>[39m
                          [0mEXP 09/28[0m
                        [36m</span>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"opacity-80 grayscale-[0.3]"[39m
                        [36m/>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden bg-slate-900 border border-white/10 shadow-2xl pointer-events-auto"[39m
                [33mstyle[39m=[32m"transform: rotateY(180deg); z-index: 1;"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full h-12 bg-black mt-4 mb-3 relative flex items-center justify-between px-5"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-20 pointer-events-none"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"relative z-10"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"group flex items-center gap-1.5 pl-1.5 pr-3 py-1 rounded-full transition-all duration-200 shadow-lg bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/40"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"w-4 h-4 rounded-full flex items-center justify-center shadow-lg transition-transform bg-emerald-500"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-circle-check-big w-2.5 h-2.5 text-white"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"m9 11 3 3L22 4"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-[10px] font-bold uppercase tracking-wider text-emerald-300"[39m
                      [36m>[39m
                        [0mMark as Unpaid[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"relative z-10 text-right"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[8px] text-slate-400 font-bold uppercase tracking-widest mb-0.5"[39m
                    [36m>[39m
                      [0mDue Date[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs font-mono font-bold text-white"[39m
                    [36m>[39m
                      [0mN/A[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-5 pb-5"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-2.5"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mStatement Bal[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mMin Payment[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mLast Payment[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mPayment Date[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-brand-accent"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      168 |
      169 |       await waitFor(() => {
    > 170 |         expect(fetch).toHaveBeenCalledWith("/api/account/acc-123/mark-paid", {
          |                       ^
      171 |           method: "POST",
      172 |           headers: { "Content-Type": "application/json" },
      173 |           body: JSON.stringify({

      at toHaveBeenCalledWith (__tests__/components/velocity/credit-card.test.tsx:170:23)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ‚óè CreditCard Payment Cycle Status ‚Ä∫ Mark as Paid Functionality ‚Ä∫ should validate amount before sending

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      "/api/account/acc-123/mark-paid",
      Object {
    -   "body": "{\"date\":{\"inverse\":false},\"amount\":0}",
    +   "body": "{\"date\":\"2025-12-02T22:32:15.465Z\",\"amount\":0}",
        "headers": Object {
          "Content-Type": "application/json",
        },
        "method": "POST",
      },

    Number of calls: 1

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33maria-label[39m=[32m"Test Card ending in 4291. Double tap to flip for details."[39m
            [33mclass[39m=[32m"w-[360px] h-[225px] perspective-1000 group mx-auto"[39m
            [33mrole[39m=[32m"button"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<div[39m
              [33manimate[39m=[32m"[object Object]"[39m
              [33mclass[39m=[32m"w-full h-full relative transform-style-3d cursor-pointer"[39m
              [33mstyle[39m=[32m"transform-style: preserve-3d;"[39m
              [33mtransition[39m=[32m"[object Object]"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden shadow-2xl pointer-events-none"[39m
                [33mstyle[39m=[32m"z-index: 0;"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 bg-[#1a1a1a]"[39m
                  [33mstyle[39m=[32m"background: linear-gradient(135deg, #2c2c2c 0%, #1a1a1a 100%);"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 opacity-[0.15] mix-blend-overlay bg-no-repeat bg-cover pointer-events-none"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-br from-white/10 via-transparent to-black/40 opacity-50 pointer-events-none"[39m
                [36m/>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"relative z-10 p-5 flex flex-col h-full"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex justify-between items-start w-full mb-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex items-center gap-3"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-landmark w-6 h-6 opacity-90 text-white"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M10 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M14 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M18 18v-7"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M3 22h18"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M6 18v-7"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"text-sm font-bold tracking-widest uppercase text-white/90 drop-shadow-md font-sans"[39m
                        [36m>[39m
                          [0mTest Bank[0m
                        [36m</span>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"px-2 py-0.5 rounded-full border backdrop-blur-md flex items-center gap-1.5 shadow-sm bg-emerald-950 bg-opacity-40 border-white/10"[39m
                    [36m>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-xs"[39m
                      [36m>[39m
                        [0müü¢[0m
                      [36m</span>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-[9px] font-bold uppercase tracking-wider text-emerald-200"[39m
                      [36m>[39m
                        [0mPaid, Awaiting Statement[0m
                      [36m</span>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-4 mt-4"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"w-9 h-7 rounded-md bg-gradient-to-br from-[#e2e2e2] via-[#9ca3af] to-[#4b5563] relative overflow-hidden shadow-sm border border-[#6b7280]"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute inset-0 opacity-50 mix-blend-multiply"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-1/2 left-0 w-full h-[1px] bg-[#374151]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 left-1/2 h-full w-[1px] bg-[#374151]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-1/2 left-1/2 w-3 h-2 border border-[#374151] -translate-x-1/2 -translate-y-1/2 rounded-[1px]"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute bottom-0 left-0 w-2.5 h-2.5 border-t border-r border-[#374151] rounded-tr-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute bottom-0 right-0 w-2.5 h-2.5 border-t border-l border-[#374151] rounded-tl-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 left-0 w-2.5 h-2.5 border-b border-r border-[#374151] rounded-br-md"[39m
                        [36m/>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"absolute top-0 right-0 w-2.5 h-2.5 border-b border-l border-[#374151] rounded-bl-md"[39m
                        [36m/>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-tr from-transparent via-white/30 to-transparent opacity-40 pointer-events-none"[39m
                      [36m/>[39m
                    [36m</div>[39m
                    [36m<svg[39m
                      [33maria-hidden[39m=[32m"true"[39m
                      [33mclass[39m=[32m"lucide lucide-wifi w-5 h-5 text-white/60 rotate-90"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2.5"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 20h.01"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M2 8.82a15 15 0 0 1 20 0"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12.859a10 10 0 0 1 14 0"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M8.5 16.429a5 5 0 0 1 7 0"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-auto space-y-3"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"space-y-0.5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[10px] font-bold text-white/40 uppercase tracking-widest"[39m
                      [36m>[39m
                        [0mCurrent Balance[0m
                      [36m</p>[39m
                      [36m<h3[39m
                        [33mclass[39m=[32m"text-3xl font-mono font-bold tracking-tighter text-white drop-shadow-lg"[39m
                      [36m>[39m
                        [0m$[0m
                        [0m1,000.00[0m
                      [36m</h3>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex justify-between items-end"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"space-y-0.5"[39m
                      [36m>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"flex items-center gap-2 font-mono text-white/80 text-sm tracking-widest"[39m
                        [36m>[39m
                          [36m<span[39m
                            [33mclass[39m=[32m"text-[10px] align-middle"[39m
                          [36m>[39m
                            [0m‚Ä¢‚Ä¢‚Ä¢‚Ä¢[0m
                          [36m</span>[39m
                          [36m<span>[39m
                            [0m4291[0m
                          [36m</span>[39m
                        [36m</div>[39m
                        [36m<p[39m
                          [33mclass[39m=[32m"text-[10px] font-medium text-white/50 uppercase tracking-wider"[39m
                        [36m>[39m
                          [0mTest Card[0m
                        [36m</p>[39m
                      [36m</div>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"flex flex-col items-end gap-1"[39m
                      [36m>[39m
                        [36m<span[39m
                          [33mclass[39m=[32m"font-mono text-[9px] text-white/60"[39m
                        [36m>[39m
                          [0mEXP 09/28[0m
                        [36m</span>[39m
                        [36m<div[39m
                          [33mclass[39m=[32m"opacity-80 grayscale-[0.3]"[39m
                        [36m/>[39m
                      [36m</div>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"absolute inset-0 w-full h-full backface-hidden rounded-2xl overflow-hidden bg-slate-900 border border-white/10 shadow-2xl pointer-events-auto"[39m
                [33mstyle[39m=[32m"transform: rotateY(180deg); z-index: 1;"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"w-full h-12 bg-black mt-4 mb-3 relative flex items-center justify-between px-5"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-20 pointer-events-none"[39m
                  [36m/>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"relative z-10"[39m
                  [36m>[39m
                    [36m<button[39m
                      [33mclass[39m=[32m"group flex items-center gap-1.5 pl-1.5 pr-3 py-1 rounded-full transition-all duration-200 shadow-lg bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/40"[39m
                    [36m>[39m
                      [36m<div[39m
                        [33mclass[39m=[32m"w-4 h-4 rounded-full flex items-center justify-center shadow-lg transition-transform bg-emerald-500"[39m
                      [36m>[39m
                        [36m<svg[39m
                          [33maria-hidden[39m=[32m"true"[39m
                          [33mclass[39m=[32m"lucide lucide-circle-check-big w-2.5 h-2.5 text-white"[39m
                          [33mfill[39m=[32m"none"[39m
                          [33mheight[39m=[32m"24"[39m
                          [33mstroke[39m=[32m"currentColor"[39m
                          [33mstroke-linecap[39m=[32m"round"[39m
                          [33mstroke-linejoin[39m=[32m"round"[39m
                          [33mstroke-width[39m=[32m"2"[39m
                          [33mviewBox[39m=[32m"0 0 24 24"[39m
                          [33mwidth[39m=[32m"24"[39m
                          [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                        [36m>[39m
                          [36m<path[39m
                            [33md[39m=[32m"M21.801 10A10 10 0 1 1 17 3.335"[39m
                          [36m/>[39m
                          [36m<path[39m
                            [33md[39m=[32m"m9 11 3 3L22 4"[39m
                          [36m/>[39m
                        [36m</svg>[39m
                      [36m</div>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"text-[10px] font-bold uppercase tracking-wider text-emerald-300"[39m
                      [36m>[39m
                        [0mMark as Unpaid[0m
                      [36m</span>[39m
                    [36m</button>[39m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"relative z-10 text-right"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-[8px] text-slate-400 font-bold uppercase tracking-widest mb-0.5"[39m
                    [36m>[39m
                      [0mDue Date[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"text-xs font-mono font-bold text-white"[39m
                    [36m>[39m
                      [0mN/A[0m
                    [36m</p>[39m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"px-5 pb-5"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"grid grid-cols-2 gap-2.5"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mStatement Bal[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mMin Payment[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mLast Payment[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-white"[39m
                      [36m>[39m
                        [0m0[0m
                      [36m</p>[39m
                    [36m</div>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"bg-white/5 p-2 rounded-lg border border-white/5"[39m
                    [36m>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-[9px] text-slate-500 uppercase font-bold tracking-widest"[39m
                      [36m>[39m
                        [0mPayment Date[0m
                      [36m</p>[39m
                      [36m<p[39m
                        [33mclass[39m=[32m"text-sm font-mono font-bold text-brand-accent"[39m
                      [36m>[39m
                        [0mN/A[0m
                      [36m</p>[39m
                    [36m</div>[39m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      225 |       await waitFor(() => {
      226 |         console.log("Fetch calls:", (fetch as jest.Mock).mock.calls);
    > 227 |         expect(fetch).toHaveBeenCalledWith("/api/account/acc-123/mark-paid", {
          |                       ^
      228 |           method: "POST",
      229 |           headers: { "Content-Type": "application/json" },
      230 |           body: JSON.stringify({

      at toHaveBeenCalledWith (__tests__/components/velocity/credit-card.test.tsx:227:23)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 10 passed, 13 total
Snapshots:   0 total
Time:        2.578 s, estimated 3 s
Ran all test suites matching __tests__/components/velocity/credit-card.test.tsx.
